{% extends "review/layout.html" %}
{% load staticfiles %}

{% block title %}
  {{ block.super }}
{% endblock %}

{% block metatags %}
  {{ block.super }}
{% endblock %}

{% block stylesheets %}
  {{ block.super }}
{% endblock %}

{% block javascripts %}
  {{ block.super }}
  <script type="text/javascript">
    $('#category').on('focus', function() {
      $('#m-category').modal('show');
    });
$('#search').click(function() {
      selected_departments = $('#department>label.activate');
      for (i=0 ; i<selected_departments.length; i++)
        console.log(selected_departments[i]);
    });
  </script>
{% endblock %}

{% block header %}
  {{ block.super }}
{% endblock %}

{% block contents %}
  <div class="row" style="margin-top: 50px;">
    <div class="col-xs-6">

    </div>
    <div class="col-xs-6">
      <form role="form" class="form" >
        <input id="category" type="text" class="form-control">
      </form>
    </div>
    <div class="col-xs-6">
      <form role="form" class="form" method="get" action="result/">
        <input type="text" class="form-control">
      </form>
    </div>
    <div class="col-xs-6">

    </div>
  </div>
  <div class="row" style="margin-top: 50px;">
    <div class="col-xs-24 text-right">
      <div class="btn-group" data-toggle="buttons">
        <label class="btn btn-primary">
          <input type="checkbox" autocomplete="off"> 교수 별로 보기
        </label>
      </div>
      <div class="btn-group" data-toggle="buttons">
        <label class="btn btn-primary">
          <input type="radio" autocomplete="off"> 학점 잘 주는 순서대로 보기
        </label>
        <label class="btn btn-primary">
          <input type="radio" autocomplete="off"> 수업 잘 하는 순서대로 보기
        </label>
        <label class="btn btn-primary">
          <input type="radio" autocomplete="off"> 로드 덜 빡센 순서대로 보기
        </label>
      </div>
    </div>
  </div>
  <div class="row" style="margin-top: 50px;">
    <div class="col-xs-12">
      <ul class="list-group" role="tablist">
      {% if results|length == 0 %}  
        <li class="list-group-item">
          검색 결과가 없습니다.
        </li>
      {% endif %}
      {% for result in results %}
        <li class="list-group-item">
          <a href="#lecture1" aria-controls="home" role="tab" data-toggle="tab">
            {{ result.0.0.title }}
          {% if result.0.1 != None %}
            &nbsp;: {{ result.0.1.professor_name }}
          {% endif %}
            </br>
          {% if result.2 != 0 %}
            grade : {{ result.1.0 }}</br>
            load : {{ result.1.1 }}</br>
            speech : {{ result.1.2 }}</br>
            total : {{ result.1.3 }}</br>
          {% else %}
            평가 없음</br></br></br></br>
          {% endif %}
          </a>
        </li>
      {% endfor %}
      </ul>
    </div>
    <div class="col-xs-12 tab-content">
      <div id="lecture1" role="tabpanel" class="tab-pane panel panel-default active">
        <ul class="list-group">
          <li class="list-group-item">
            후기1
          </li>
          <li class="list-group-item">
            후기2
          </li>
          <li class="list-group-item">
            후기3
          </li>
          <li class="list-group-item">
            후기4
          </li>
          <li class="list-group-item">
            후기5
          </li>
        </ul>
      </div>
      <div id="lecture2" role="tabpanel" class="tab-pane panel panel-default">
        b
      </div>
      <div id="lecture3" role="tabpanel" class="tab-pane panel panel-default">
        c
      </div>
      <div id="lecture4" role="tabpanel" class="tab-pane panel panel-default">
        d
      </div>
    </div>
  </div>
{% endblock %}

{% block modals %}
  {{ block.super }}
  <div id="m-category" class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <form role="form" class="form" method="get">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Category 검색</h4>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-xs-24">
                <p>학과</p>
                <div class="btn-group" data-toggle="buttons">
                  <label class="btn btn-primary">
                    <input type="checkbox" autocomplete="off" name="CS"> 전산과
                  </label>
                  <label class="btn btn-primary">
                    <input type="checkbox" autocomplete="off" name="EE"> 전자과
                  </label>
                  <label class="btn btn-primary">
                    <input type="checkbox" autocomplete="off" name="MAE"> 기계과
                  </label>
                  <label class="btn btn-primary">
                    <input type="checkbox" autocomplete="off" name="HSS"> 인문사회과학부
                  </label>
                </div>
                <p>구분</p>
                <div class="btn-group" data-toggle="buttons">
                  <label class="btn btn-primary">
                    <input type="checkbox" autocomplete="off" name="BR"> 기필
                  </label>
                  <label class="btn btn-primary">
                    <input type="checkbox" autocomplete="off" name="BE"> 기선
                  </label>

                  <label class="btn btn-primary">
                    <input type="checkbox" autocomplete="off" name="MR"> 전필
                  </label>
                  <label class="btn btn-primary">
                    <input type="checkbox" autocomplete="off" name="ME"> 전선
                  </label>
                  <label class="btn btn-primary">
                    <input type="checkbox" autocomplete="off" name="MGC"> 교필
                  </label>
                  <label class="btn btn-primary">
                    <input type="checkbox" autocomplete="off" name="HSE"> 인문사회선택
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">취소</button>
            <input type="submit" class="btn btn-primary" value="검색" id="search">
          </div>
        </form>
      </div>
    </div>
  </div>
{% endblock %}

{% block footer %}
  {{ block.super }}
{% endblock %}
